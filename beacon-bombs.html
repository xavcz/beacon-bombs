<head>
  <title>Beacon Bombs</title>
</head>

<body>
	<div class="container-fluid">
		{{> layout}}
	</div>
</body>

<template name="layout">
	<div class="row">
		<div class="col-xs-12">
			<h1>Beacon Bombs</h1>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-12">
			<h5>Sequentially diffuse 4 bombs, in 10 mins, to save the Hostel!</h5>
		</div>
	</div>
    <div class="row">
	    <div class="col-xs-12">
		    {{#momentum plugin="fade"}}
			    {{#if gameRunning}}
				    {{> bomb bombData}}
			    {{else}}
				    {{> splash currentBomb}}
			    {{/if}}
		    {{/momentum}}
	    </div>
    </div>
    <div class="row">
	    {{> timer}}
    </div>
</template>

<template name="splash">
  {{#if goodGame}}
    Yo! You win!
  {{/if}}
  {{#if gameOver}}
    Game over.
  {{/if}}
  {{#if (or goodGame gameOver)}}
    Want to play again ?
  {{/if}}
  <button rel="ok">Ok, let's go!</button>
</template>

<template name="bomb">
  <div class="bomb">
    <h2>Bomb nÂ°{{_id}} - {{identifier}}</h2>
    {{> radar}}
    <div>
      <form>
        <input type="text" rel="code" placeholder="Bomb code" />
        <button rel="submit-code">Diffuse</button>
      </form>
      <p><strong>Hint:</strong> {{hint}}</p>
    </div>
  </div>
</template>

<template name="radar">
  <div class="radar">
  </div>
</template>
